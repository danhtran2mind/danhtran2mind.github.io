---
layout: default
---
<style type="text/css">
  h1 {
    font-size: 2.2rem;
    font-weight: 600;
  }
  h2 {
    font-size: 2rem;
    font-weight: 550;
  }
  h3 {
    font-size: 1.75rem;
    font-weight: 500;
  }
  h4 {
    font-size: 1.4rem;
    font-weight: 450;
  }
  h5 {
    font-size: 1.2rem;
    font-weight: 400;
  }
  p {
    font-size: 1rem;
  }
  {% if page._styles %}
    {{ page._styles }}
  {% endif %}
</style>

<script>
// JavaScript to generate TOC dynamically based on headings
document.addEventListener('DOMContentLoaded', function() {
  const tocSidebar = document.getElementById('toc-sidebar');
  const contentArea = document.querySelector('.post article');
  if (!tocSidebar || !contentArea) return;

  const headings = contentArea.querySelectorAll('h1, h2, h3, h4, h5');
  if (headings.length === 0) return;

  // Create TOC container
  const tocList = document.createElement('ul');
  tocList.className = 'nav flex-column';

  headings.forEach((heading) => {
    // Generate anchor ID from heading text
    const anchorId = heading.textContent
      .toLowerCase()
      .replace(/\s+/g, '-')
      .replace(/[^a-z0-9-]/g, '');
    heading.id = anchorId;

    // Create TOC item
    const listItem = document.createElement('li');
    listItem.className = 'nav-item';
    const link = document.createElement('a');
    link.className = 'nav-link';
    link.href = `#${anchorId}`;
    link.textContent = heading.textContent;

    // Adjust indentation based on heading level
    const level = parseInt(heading.tagName.replace('H', '')) - 1;
    listItem.style.paddingLeft = `${level * 1}rem`;

    listItem.appendChild(link);
    tocList.appendChild(listItem);
  });

  // Add TOC title
  const tocTitle = document.createElement('h4');
  tocTitle.textContent = 'Table of Contents';
  tocSidebar.appendChild(tocTitle);
  tocSidebar.appendChild(tocList);

  // Add smooth scrolling for anchor links
  tocSidebar.querySelectorAll('a.nav-link').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);
      if (targetElement) {
        targetElement.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
});
</script>

<div class="post">
  {% if page.toc and page.toc.sidebar %}
    {% if page.toc.sidebar == 'right' %}
      <div class="row">
        <!-- main content area -->
        <div class="col-sm-9">
          <article>
            {{ content }}
          </article>
          {% if page.related_publications %}
            <h2>References</h2>
            <div class="publications">
              {% bibliography --cited_in_order %}
            </div>
          {% endif %}
          {% if site.giscus and page.giscus_comments %}
            {% include giscus.liquid %}
          {% endif %}
        </div>
        <!-- sidebar, which will move to the top on a small screen -->
        <div class="col-sm-3">
          <nav id="toc-sidebar" class="sticky-top" style="top: 1rem;"></nav>
        </div>
      </div>
    {% else %}
      <div class="row">
        <!-- sidebar, which will move to the top on a small screen -->
        <div class="col-sm-3">
          <nav id="toc-sidebar" class="sticky-top" style="top: 1rem;"></nav>
        </div>
        <!-- main content area -->
        <div class="col-sm-9">
          <article>
            {{ content }}
          </article>
          {% if page.related_publications %}
            <h2>References</h2>
            <div class="publications">
              {% bibliography --cited_in_order %}
            </div>
          {% endif %}
          {% if site.giscus and page.giscus_comments %}
            {% include giscus.liquid %}
          {% endif %}
        </div>
      </div>
    {% endif %}
  {% else %}

    <div class="row">
        <!-- sidebar, which will move to the top on a small screen -->
        <div class="col-sm-3" style="padding-left: 0rem;padding-right: 2.5rem !important;"> 
          <nav id="toc-sidebar" class="sticky-top">
          </nav>
        </div>
        <!-- main content area -->
        <div class="col-sm-9">
          <article>
            {{ content }}
          </article>
          {% if page.related_publications %}
            <h2>References</h2>
            <div class="publications">
              {% bibliography --cited_in_order %}
            </div>
          {% endif %}
          {% if site.giscus and page.giscus_comments %}
            {% include giscus.liquid %}
          {% endif %}
        </div>
      </div>
    <!--
    <article>
      {{ content }}
    </article>
    -->
    {% if page.related_publications %}
      <h2>References</h2>
      <div class="publications">
        {% bibliography --cited_in_order %}
      </div>
    {% endif %}
    {% if site.giscus and page.giscus_comments %}
      {% include giscus.liquid %}
    {% endif %}
  {% endif %}
</div>